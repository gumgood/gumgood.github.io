{% assign posts = include.posts | default: site.posts %}

<div id="post-list">

    {%- for post in posts -%}
        
        <div class="post-preview">
            
            <h1 id="post-title">
                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h1>

            <div class="post-content">
                <p>
                    {{ post.content | markdownify | strip_html | truncate: 200 }}
                </p>
            </div>

            <div class="post-metadata">
                <span>
                    <i id="icon-calendar"></i><span>{{ post.date | date: "%b %e, %Y" }}</span>

                    {%- if post.categories -%}
                            <i id="icon-folder"></i>
                            {%- for category in post.categories -%}
                                <a href="{{ "/categories/" | append: category }}">{{ category | capitalize }}</a>
                                {%- unless forloop.last -%}
                                    <span id="slash">/</span>
                                {%- endunless -%}
                            {%- endfor -%}
                    {%- endif-%}
                    
                    {%- if post.tags -%}
                            <i id="icon-tag"></i>
                            {%- for tag in post.tags -%}
                                <a href="{{ "/tags/" | append: tag }}">{{ tag | downcase }}</a>
                                {%- unless forloop.last -%}
                                    <span>, </span>
                                {%- endunless -%}
                            {%- endfor -%}
                    {%- endif -%}
                </span>
            </div>

        </div>

    {%- endfor -%}

</div>